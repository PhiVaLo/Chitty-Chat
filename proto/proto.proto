syntax = "proto3";

import "google/protobuf/empty.proto";

package proto;

option go_package = "proto/proto";

message PublishMessage {
    int64 clientId = 1;
    int64 timestamp = 2;
    string message = 3;
}

message BroadcastMessage {
    int64 timestamp = 1;
    string message = 2;
}

service Publish {
    rpc AskForPublish(PublishMessage) returns (BroadcastMessage);
}

service Broadcast {
    rpc AskForBroadcast(BroadcastMessage) returns (google.protobuf.Empty);
}